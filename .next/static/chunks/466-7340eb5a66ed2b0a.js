(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[466],{5479:function(e,s,t){"use strict";var i=t(5893);t(7294);var n=t(514),r=t.n(n);s.Z=e=>{let{show:s,onConfirm:t,onCancel:n,message:a,confirmButtonText:c,cancelButtonText:l}=e;return s?(0,i.jsxs)("div",{className:r().confirmModalOverlay,children:[" ",(0,i.jsxs)("div",{className:r().confirmModal,children:[" ",(0,i.jsxs)("div",{className:r().confirmModalContent,children:[(0,i.jsx)("h2",{children:"Confirmation"}),(0,i.jsx)("p",{children:a}),(0,i.jsxs)("div",{className:r().confirmModalActions,children:[(0,i.jsx)("button",{className:`${r().confirmModalButton} ${r().confirm}`,onClick:t,children:c||"Yes, Confirm"}),(0,i.jsx)("button",{className:`${r().confirmModalButton} ${r().cancel}`,onClick:n,children:l||"Cancel"})]})]})]})]}):null}},466:function(e,s,t){"use strict";t.r(s);var i=t(5893),n=t(7294),r=t(1372),a=t(7375),c=t(5479),l=t(8458),o=t.n(l);let d=(0,r.eI)("https://tffwhfvevgjscrhkdmpl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRmZndoZnZldmdqc2NyaGtkbXBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjUzMzg4NjcsImV4cCI6MjA0MDkxNDg2N30.VqEkYRZU-s-9QiLp35pHR04wSw3sLVfoswggMCabkeI");s.default=()=>{let[e,s]=(0,n.useState)([]),[t,r]=(0,n.useState)([]),[l,u]=(0,n.useState)(""),[m,y]=(0,n.useState)(null),[h,_]=(0,n.useState)(""),[x,f]=(0,n.useState)(""),[j,g]=(0,n.useState)(!1),[p,C]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{let{data:e,error:t}=await d.from("lyrics").select("*").eq("status","approved");if(t)throw t;s(e||[]),r(e||[])}catch(e){console.error("Error fetching lyrics:",e),s([]),r([])}})()},[]);let M=async e=>{try{let{error:t}=await d.from("lyrics").delete().eq("id",e);if(t)throw t;s(s=>s.filter(s=>s.id!==e)),r(s=>s.filter(s=>s.id!==e)),f("success"),_("Lyrics deleted successfully.")}catch(e){f("error"),_("Failed to delete the lyrics. Please try again.")}finally{g(!1)}},L=async e=>{e.preventDefault();try{let{id:e,title:t,artist:i,lyrics:n,lyrics_writer:a,published_date:c,music_url:l,added_by:o}=m,{error:u}=await d.from("lyrics").update({title:t,artist:i,lyrics:n,lyrics_writer:a,published_date:c,music_url:l,added_by:o}).eq("id",e);if(u)throw u;s(s=>s.map(s=>s.id===e?m:s)),r(s=>s.map(s=>s.id===e?m:s)),y(null),f("success"),_("Lyrics updated successfully!")}catch(e){f("error"),_("Failed to update the lyrics. Please try again.")}},b=e=>{y(e)},B=e=>{C(e),g(!0)},v=e=>{let{name:s,value:t}=e.target;y({...m,[s]:t})};return(0,i.jsxs)("div",{className:o().manageLyricsContainer,children:[(0,i.jsx)("h2",{children:"Manage Lyrics"}),(0,i.jsx)("input",{type:"text",placeholder:"Search by title, artist, lyrics, or added by...",value:l,onChange:s=>{let t=s.target.value.toLowerCase();u(t),r(e.filter(e=>e.title.toLowerCase().includes(t)||e.artist.toLowerCase().includes(t)||e.lyrics.toLowerCase().includes(t)||e.added_by&&e.added_by.toLowerCase().includes(t)))},className:o().searchBox}),(0,i.jsxs)("p",{children:[t.length," ",1===t.length?"result":"results"," found"]}),h&&(0,i.jsx)("div",{className:`${o().message} ${o()[x]}`,children:h}),t.length>0?(0,i.jsx)("ul",{className:o().lyricsList,children:t.map(e=>(0,i.jsxs)("li",{className:o().lyricsItem,children:[(0,i.jsxs)("div",{className:o().lyricsItemContent,children:[(0,i.jsx)("h3",{children:e.title}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Artist:"})," ",e.artist]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Writer:"})," ",e.lyrics_writer||"N/A"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Added By:"})," ",e.added_by||"N/A"]})]}),(0,i.jsxs)("div",{className:o().iconButtons,children:[(0,i.jsx)("button",{onClick:()=>b(e),className:o().iconButton,children:(0,i.jsx)(a.fmQ,{})}),(0,i.jsx)("button",{onClick:()=>B(e),className:`${o().iconButton} ${o().deleteButton}`,children:(0,i.jsx)(a.AMf,{})})]}),m&&m.id===e.id&&(0,i.jsxs)("div",{className:o().editLyricForm,children:[(0,i.jsx)("h2",{children:"Edit Lyric"}),(0,i.jsxs)("form",{onSubmit:L,children:[(0,i.jsxs)("label",{children:["Title:",(0,i.jsx)("input",{type:"text",name:"title",value:m.title,onChange:v,required:!0})]}),(0,i.jsxs)("label",{children:["Artist:",(0,i.jsx)("input",{type:"text",name:"artist",value:m.artist,onChange:v,required:!0})]}),(0,i.jsxs)("label",{children:["Lyrics Writer:",(0,i.jsx)("input",{type:"text",name:"lyrics_writer",value:m.lyrics_writer||"",onChange:v})]}),(0,i.jsxs)("label",{children:["Lyrics:",(0,i.jsx)("textarea",{name:"lyrics",value:m.lyrics,onChange:v,required:!0,rows:5})]}),(0,i.jsxs)("label",{children:["Published Date:",(0,i.jsx)("input",{type:"date",name:"published_date",value:m.published_date,onChange:v,required:!0})]}),(0,i.jsxs)("label",{children:["Music URL:",(0,i.jsx)("input",{type:"text",name:"music_url",value:m.music_url||"",onChange:v})]}),(0,i.jsxs)("label",{children:["Added By:",(0,i.jsx)("input",{type:"text",name:"added_by",value:m.added_by||"",onChange:v})]}),(0,i.jsxs)("div",{className:o().formActions,children:[(0,i.jsx)("button",{type:"submit",className:`${o().iconButton} ${o().saveButton}`,children:(0,i.jsx)(a.TvB,{})}),(0,i.jsx)("button",{type:"button",onClick:()=>y(null),className:`${o().iconButton} ${o().cancelButton}`,children:(0,i.jsx)(a.aHS,{})})]})]})]})]},e.id))}):(0,i.jsx)("p",{children:"No approved lyrics available."}),j&&(0,i.jsx)(c.Z,{show:j,onConfirm:()=>{p&&M(p.id)},onCancel:()=>{g(!1),C(null)},message:"Are you sure you want to delete this lyric?"})]})}},514:function(e){e.exports={confirmModal:"ConfirmMsg_confirmModal__0nBMx",confirmModalContent:"ConfirmMsg_confirmModalContent__7dzZy",confirmModalActions:"ConfirmMsg_confirmModalActions__2cYjB",confirmModalButton:"ConfirmMsg_confirmModalButton__5i4wa",confirm:"ConfirmMsg_confirm__GtECM",cancel:"ConfirmMsg_cancel__opN_2"}},8458:function(e){e.exports={manageLyricsContainer:"ManageLyrics_manageLyricsContainer__kpWSc",searchBox:"ManageLyrics_searchBox__zehr0",message:"ManageLyrics_message__Vbifl",success:"ManageLyrics_success__1y7_R",error:"ManageLyrics_error__iEoxq",lyricsList:"ManageLyrics_lyricsList__KB1wD",lyricsItem:"ManageLyrics_lyricsItem__Q02yc",lyricsItemContent:"ManageLyrics_lyricsItemContent__LcWE9",iconButtons:"ManageLyrics_iconButtons__Qgik9",iconButton:"ManageLyrics_iconButton__HppgN",deleteButton:"ManageLyrics_deleteButton__Qq0KK",editLyricForm:"ManageLyrics_editLyricForm__RhgT_",formActions:"ManageLyrics_formActions__s_d18",saveButton:"ManageLyrics_saveButton__hKPCG",cancelButton:"ManageLyrics_cancelButton__erBnA"}}}]);