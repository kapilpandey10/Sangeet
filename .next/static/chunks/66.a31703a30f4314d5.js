(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[66],{1066:function(e,r,s){"use strict";s.r(r);var l=s(5893),t=s(7294),i=s(5675),a=s.n(i),d=s(2778),n=s(677),o=s.n(n);r.default=()=>{let[e,r]=(0,t.useState)([]),[s,i]=(0,t.useState)(0),[n,c]=(0,t.useState)(!0),_=async()=>{c(!0);try{let{data:e,error:s}=await d.O.from("hero_slider").select("title, subtitle, image_url, status").eq("status","approved");s?console.error("Error fetching hero slider data:",s.message):r(e)}catch(e){console.error("Error in fetchSlides:",e.message)}c(!1)};return((0,t.useEffect)(()=>{_()},[]),(0,t.useEffect)(()=>{let r=setInterval(()=>{i(r=>r===e.length-1?0:r+1)},5e3);return()=>clearInterval(r)},[e.length]),n)?(0,l.jsx)("p",{children:"Loading Slider..."}):(0,l.jsxs)("div",{className:o().heroSlider,children:[(0,l.jsx)("div",{className:o().slider,style:{transform:`translateX(-${100*s}%)`},children:e.map((e,r)=>(0,l.jsxs)("div",{className:`${o().slide} ${r===s?o().active:""}`,children:[(0,l.jsx)(a(),{src:e.image_url,alt:e.title,layout:"fill",objectFit:"cover",priority:!0,className:o().sliderImage}),(0,l.jsxs)("div",{className:o().slideContent,children:[(0,l.jsx)("h1",{children:e.title}),(0,l.jsx)("p",{children:e.subtitle})]})]},r))}),(0,l.jsx)("button",{className:o().prev,onClick:()=>{i(r=>0===r?e.length-1:r-1)},children:"❮"}),(0,l.jsx)("button",{className:o().next,onClick:()=>{i(r=>r===e.length-1?0:r+1)},children:"❯"}),(0,l.jsx)("div",{className:o().dots,children:e.map((e,r)=>(0,l.jsx)("span",{className:`${o().dot} ${r===s?o().active:""}`,onClick:()=>i(r)},r))})]})}},677:function(e){e.exports={heroSlider:"HeroSlider_heroSlider__G_H3T",slider:"HeroSlider_slider__06JM3",slide:"HeroSlider_slide__HbQOi",active:"HeroSlider_active__Tgk4v",sliderImage:"HeroSlider_sliderImage__gghNv",slideContent:"HeroSlider_slideContent__NZiRG",prev:"HeroSlider_prev__vyEGq",next:"HeroSlider_next__C_EuI",dots:"HeroSlider_dots__ix41b",dot:"HeroSlider_dot___A_az"}}}]);