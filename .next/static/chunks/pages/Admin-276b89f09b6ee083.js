(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[343],{5980:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Admin",function(){return t(9247)}])},2276:function(e,s,t){"use strict";t.r(s);var a=t(5893),r=t(7294),i=t(1372),l=t(7375),n=t(3205),d=t.n(n);let c=(0,i.eI)("https://tffwhfvevgjscrhkdmpl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRmZndoZnZldmdqc2NyaGtkbXBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjUzMzg4NjcsImV4cCI6MjA0MDkxNDg2N30.VqEkYRZU-s-9QiLp35pHR04wSw3sLVfoswggMCabkeI");s.default=()=>{let[e,s]=(0,r.useState)(""),[t,i]=(0,r.useState)(""),[n,o]=(0,r.useState)([{name:"",suggestions:[]}]),[u,m]=(0,r.useState)(""),[g,p]=(0,r.useState)(""),[h,j]=(0,r.useState)(""),[x,_]=(0,r.useState)(""),[y,v]=(0,r.useState)(""),[f,b]=(0,r.useState)(""),[w,N]=(0,r.useState)(""),[A,L]=(0,r.useState)(""),[I,C]=(0,r.useState)(""),[S,B]=(0,r.useState)("");(0,r.useEffect)(()=>{document.title="Add Song Lyrics | Contribute to dynabyte "},[]);let M=e=>e.trim().toLowerCase().replace(/[^a-zA-Z0-9\s]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),k=e=>{let s=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,t=null;if(s.test(e)){let a=e.match(s);t=a?a[1]:null}else{if(!/^[a-zA-Z0-9_-]{11}$/.test(e))return b("Please enter a valid YouTube Video URL."),null;t=e}return b(""),t},E=e=>{let s=[...n];s.splice(e,1),o(s)},R=async(e,s)=>{let t=[...n],a=s.target.value;if(t[e].name=a,o(t),a.length>1){let{data:s,error:r}=await c.from("lyrics").select("artist").ilike("artist",`%${a}%`).limit(5);if(!r&&s.length){let a=[...new Set(s.map(e=>e.artist))];t[e].suggestions=a}else t[e].suggestions=[];o(t)}else t[e].suggestions=[],o(t)},F=(e,s)=>{let t=[...n];t[e].name=s,t[e].suggestions=[],o(t)},Z=async a=>{a.preventDefault();let r=k(y);if(!r)return;let l=t||M(e);try{let{data:t,error:a}=await c.from("lyrics").insert([{title:e,slug:l,artist:n.map(e=>e.name).join(", "),lyrics_writer:u,lyrics:g,english_lyrics:h,published_date:`${x}-01-01`,music_url:`https://www.youtube.com/watch?v=${r}`,status:"pending",added_by:A||"Admin",language:I,description:S}]);if(a)throw a;N("Lyrics submitted successfully! It will be reviewed by the admin and listed soon."),s(""),i(""),o([{name:"",suggestions:[]}]),m(""),p(""),j(""),_(""),v(""),L(""),C(""),B(""),setTimeout(()=>N(""),5e3)}catch(e){N("An error occurred while adding lyrics: "+e.message),setTimeout(()=>N(""),5e3)}};return(0,a.jsxs)("div",{className:d().addLyricsContainer,children:[(0,a.jsx)("h1",{className:d().addLyricsTitle,children:"Add New Lyrics"}),w&&(0,a.jsx)("p",{className:d().submissionMessage,children:w}),(0,a.jsxs)("form",{onSubmit:Z,className:d().addLyricsForm,children:[(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"title",children:"Title"}),(0,a.jsx)("input",{type:"text",id:"title",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"slug",children:"Slug (URL-friendly)"}),(0,a.jsx)("input",{type:"text",id:"slug",value:t,onChange:e=>i(e.target.value),placeholder:"Leave empty to auto-generate"})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"artists",children:"Singer"}),n.map((e,s)=>(0,a.jsxs)("div",{className:d().artistInput,children:[(0,a.jsx)("input",{type:"text",value:e.name,onChange:e=>R(s,e),required:!0,placeholder:"Enter Singer name"}),s>0&&(0,a.jsx)("button",{type:"button",onClick:()=>E(s),className:d().removeArtistButton,children:(0,a.jsx)(l.Xm5,{})}),e.suggestions.length>0&&(0,a.jsx)("ul",{className:d().suggestionsList,children:e.suggestions.map((e,t)=>(0,a.jsx)("li",{onClick:()=>F(s,e),children:e},t))})]},s)),(0,a.jsxs)("button",{type:"button",onClick:()=>{o([...n,{name:"",suggestions:[]}])},className:d().addArtistButton,children:[(0,a.jsx)(l.wEH,{})," Add Artist"]})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"writer",children:"Lyrics Writer"}),(0,a.jsx)("input",{type:"text",id:"writer",value:u,onChange:e=>m(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"lyrics",children:"Lyrics (Original Language)"}),(0,a.jsx)("textarea",{id:"lyrics",value:g,onChange:e=>p(e.target.value),rows:10,required:!0})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"englishLyrics",children:"Lyrics (English)"}),(0,a.jsx)("textarea",{id:"englishLyrics",value:h,onChange:e=>j(e.target.value),rows:10,required:!0})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"description",children:"Short Description"}),(0,a.jsx)("textarea",{id:"description",value:S,onChange:e=>B(e.target.value),rows:3,required:!0})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"releaseYear",children:"Release Year"}),(0,a.jsx)("input",{type:"number",id:"releaseYear",value:x,onChange:e=>_(e.target.value),required:!0,min:"1900",max:new Date().getFullYear()})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"videoUrl",children:"YouTube Video URL/ID"}),(0,a.jsx)("input",{type:"text",id:"videoUrl",value:y,onChange:e=>v(e.target.value),placeholder:"YouTube Video URL or ID",required:!0}),f&&(0,a.jsx)("p",{className:d().error,children:f})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"addedBy",children:"Added By"}),(0,a.jsx)("input",{list:"addedByOptions",id:"addedBy",value:A,onChange:e=>L(e.target.value),placeholder:"Admin, Ashish Khanal (Mr. Thule)",required:!0}),(0,a.jsxs)("datalist",{id:"addedByOptions",children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"Select who added the lyrics"}),(0,a.jsx)("option",{value:"Admin"}),(0,a.jsx)("option",{value:"Ashish Khanal (Mr. Thule)"})]})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"language",children:"Language"}),(0,a.jsx)("input",{type:"text",id:"language",value:I,onChange:e=>C(e.target.value),required:!0})]}),(0,a.jsx)("button",{type:"submit",className:d().submitButton,children:"Submit Lyrics"})]})]})}},12:function(e,s,t){"use strict";t.r(s);var a=t(5893),r=t(7294),i=t(1372),l=t(5479),n=t(7399),d=t.n(n);let c=(0,i.eI)("https://tffwhfvevgjscrhkdmpl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRmZndoZnZldmdqc2NyaGtkbXBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjUzMzg4NjcsImV4cCI6MjA0MDkxNDg2N30.VqEkYRZU-s-9QiLp35pHR04wSw3sLVfoswggMCabkeI");s.default=()=>{let[e,s]=(0,r.useState)([]),[t,i]=(0,r.useState)(null),[n,o]=(0,r.useState)(null),[u,m]=(0,r.useState)(""),[g,p]=(0,r.useState)(!1),[h,j]=(0,r.useState)(""),[x,_]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{let{data:e,error:t}=await c.from("lyrics").select("*").eq("status","pending");t?console.error("Error fetching pending lyrics:",t):s(e)})()},[]);let y=async()=>{if(_(!0),"approve"===h){let{error:a}=await c.from("lyrics").update({status:"approved",title:n.title,artist:n.artist,lyrics:n.lyrics,language:n.language,added_by:n.added_by}).eq("id",t.id);a?console.error("Error approving lyric:",a):(s(e.filter(e=>e.id!==t.id)),i(null),m("Lyric approved successfully!"))}else if("reject"===h){let{error:a}=await c.from("lyrics").delete().eq("id",t.id);a?console.error("Error rejecting lyric:",a):(s(e.filter(e=>e.id!==t.id)),i(null),m("Lyric rejected successfully!"))}p(!1),j(""),_(!1),setTimeout(()=>m(""),5e3)},v=e=>{i(e),o({...e})},f=(e,s)=>{o(t=>({...t,[e]:s}))},b=e=>{let s=e.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return s?s[1]:null},w=e=>{j(e),p(!0)};return(0,a.jsxs)("div",{className:d().approveLyricsContainer,children:[(0,a.jsx)("h2",{className:d().header,children:"Approve or Reject Pending Lyrics"}),u&&(0,a.jsx)("p",{className:d().message,children:u}),(0,a.jsxs)("div",{className:d().contentWrapper,children:[(0,a.jsx)("div",{className:d().pendingLyrics,children:(0,a.jsx)("ul",{children:e.map(e=>(0,a.jsxs)("li",{className:d().lyricItem,children:[(0,a.jsx)("h3",{children:e.title}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Artist:"})," ",e.artist]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Added By:"})," ",e.added_by]}),(0,a.jsx)("button",{onClick:()=>v(e),children:"View Details"})]},e.id))})}),t&&(0,a.jsxs)("div",{className:d().lyricDetails,children:[(0,a.jsx)("h3",{children:"Edit Lyric Details"}),(0,a.jsxs)("div",{className:d().editField,children:[(0,a.jsx)("label",{children:"Title:"}),(0,a.jsx)("input",{type:"text",value:n.title,onChange:e=>f("title",e.target.value)})]}),(0,a.jsxs)("div",{className:d().editField,children:[(0,a.jsx)("label",{children:"Artist:"}),(0,a.jsx)("input",{type:"text",value:n.artist,onChange:e=>f("artist",e.target.value)})]}),(0,a.jsxs)("div",{className:d().editField,children:[(0,a.jsx)("label",{children:"Language:"}),(0,a.jsx)("input",{type:"text",value:n.language,onChange:e=>f("language",e.target.value)})]}),(0,a.jsxs)("div",{className:d().editField,children:[(0,a.jsx)("label",{children:"Added By:"}),(0,a.jsx)("input",{type:"text",value:n.added_by,onChange:e=>f("added_by",e.target.value)})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Release Year:"})," ",t.published_date.split("-")[0]]}),(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"Lyrics:"})}),(0,a.jsx)("textarea",{value:n.lyrics,onChange:e=>f("lyrics",e.target.value),rows:8}),t.music_url&&(e=>{let s=b(e);if(!s)return null;let t=`https://www.youtube.com/embed/${s}?modestbranding=1&rel=0&controls=1`;return(0,a.jsx)("div",{className:d().youtubeVideoSection,children:(0,a.jsx)("iframe",{width:"100%",height:"315",src:t,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})(t.music_url),(0,a.jsxs)("div",{className:d().actionButtons,children:[(0,a.jsx)("button",{onClick:()=>w("approve"),className:d().approveBtn,children:x&&"approve"===h?"Approving...":"Approve"}),(0,a.jsx)("button",{onClick:()=>w("reject"),className:d().rejectBtn,children:x&&"reject"===h?"Rejecting...":"Reject"})]})]})]}),g&&(0,a.jsx)(l.Z,{show:g,onConfirm:y,onCancel:()=>{p(!1)},message:`Are you sure you want to ${"approve"===h?"approve":"reject"} this lyric?`,confirmButtonText:"approve"===h?"Yes, Approve":"Yes, Reject",cancelButtonText:"Cancel"})]})}},2038:function(e,s,t){"use strict";t.r(s);var a=t(5893),r=t(7294),i=t(1372),l=t(5479),n=t(3254),d=t.n(n);let c=(0,i.eI)("https://tffwhfvevgjscrhkdmpl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRmZndoZnZldmdqc2NyaGtkbXBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjUzMzg4NjcsImV4cCI6MjA0MDkxNDg2N30.VqEkYRZU-s-9QiLp35pHR04wSw3sLVfoswggMCabkeI");s.default=()=>{let[e,s]=(0,r.useState)([]),[t,i]=(0,r.useState)(null),[n,o]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{let{data:e,error:t}=await c.from("message").select("*").order("created_at",{ascending:!1});t?console.error("Error fetching messages:",t):s(e)})()},[]);let g=async e=>{if(i(e),!e.viewed){let{error:t}=await c.from("message").update({viewed:!0}).eq("id",e.id);t?console.error("Error updating message status:",t):s(s=>s.map(s=>s.id===e.id?{...s,viewed:!0}:s))}},p=async e=>{let{error:t}=await c.from("message").delete().eq("id",e);t?console.error("Error deleting message:",t):(s(s=>s.filter(s=>s.id!==e)),i(null)),o(!1)},h=e=>{m(e),o(!0)};return(0,a.jsxs)("div",{className:d().messagesContainer,children:[(0,a.jsx)("div",{className:d().messageList,children:(0,a.jsx)("ul",{children:e.map(e=>(0,a.jsxs)("li",{className:`${d().messageItem} ${e.viewed?"":d().newMessage}`,onClick:()=>g(e),children:[(0,a.jsxs)("div",{className:d().messageProfile,children:[(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:e.name})}),(0,a.jsx)("p",{children:e.email})]}),!e.viewed&&(0,a.jsx)("span",{className:d().newBadge,children:"New"}),(0,a.jsx)("button",{className:d().deleteButton,onClick:()=>h(e),children:"Delete"})]},e.id))})}),(0,a.jsx)("div",{className:d().messageContent,children:t?(0,a.jsxs)("div",{className:d().messageBubble,children:[(0,a.jsxs)("div",{className:d().messageHeader,children:[(0,a.jsxs)("h3",{children:["Message from ",t.name]}),(0,a.jsx)("span",{className:d().messageTimestamp,children:new Date(t.created_at).toLocaleString()})]}),(0,a.jsx)("p",{children:t.message})]}):(0,a.jsx)("p",{children:"Select a message to view its content"})}),(0,a.jsx)(l.Z,{show:n,onConfirm:()=>{u&&p(u.id)},onCancel:()=>{o(!1),m(null)},message:"Are you sure you want to delete this message?"})]})}},2328:function(e,s,t){"use strict";t.r(s);var a=t(5893),r=t(7294),i=t(1372),l=t(2747),n=t.n(l);let d=(0,i.eI)("https://tffwhfvevgjscrhkdmpl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRmZndoZnZldmdqc2NyaGtkbXBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjUzMzg4NjcsImV4cCI6MjA0MDkxNDg2N30.VqEkYRZU-s-9QiLp35pHR04wSw3sLVfoswggMCabkeI");s.default=()=>{let[e,s]=(0,r.useState)(""),[t,i]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[o,u]=(0,r.useState)(""),[m,g]=(0,r.useState)([]),[p,h]=(0,r.useState)(""),[j,x]=(0,r.useState)("");(0,r.useEffect)(()=>{(async()=>{try{let{data:e,error:s}=await d.from("lyrics").select("artist").neq("artist",null);if(s)throw s;let t=Array.from(new Set(e.map(e=>e.artist.split(",").map(e=>e.trim())).flat())),{data:a,error:r}=await d.from("artists").select("name").not("bio","is",null);if(r)throw r;let i=a.map(e=>e.name),l=t.filter(e=>!i.includes(e));g(l)}catch(e){console.error("Error fetching artists:",e.message),x("Failed to fetch artists.")}})()},[]),(0,r.useEffect)(()=>{(async()=>{if(e)try{let{data:s,error:t}=await d.from("lyrics").select("music_url").eq("artist",e).limit(1).single();t||!s?(console.error("Error fetching song for artist:",t),u("")):u(s.music_url||"")}catch(e){console.error("Error fetching music_url for artist:",e.message)}})()},[e]);let _=async a=>{if(a.preventDefault(),!e||!t||!l){x("All fields are required.");return}let r=/<\/?[a-z][\s\S]*>/i.test(l)?l:`<p>${l}</p>`;try{let{data:a,error:l}=await d.from("artists").upsert([{name:e,image_url:t,bio:r,video_url:o}]);if(l)throw l;h("Artist added/updated successfully!"),s(""),i(""),c(""),u("")}catch(e){console.error("Error adding/updating artist:",e.message),x("Failed to add/update artist. Please try again.")}};return(0,a.jsxs)("div",{className:n().addArtistContainer,children:[(0,a.jsx)("h2",{className:n().heading,children:"Add or Edit Artist"}),p&&(0,a.jsx)("p",{className:n().successMessage,children:p}),j&&(0,a.jsx)("p",{className:n().errorMessage,children:j}),(0,a.jsxs)("form",{onSubmit:_,className:n().form,children:[(0,a.jsxs)("label",{className:n().label,children:["Artist Name:",(0,a.jsx)("input",{type:"text",value:e,onChange:e=>s(e.target.value),placeholder:"Start typing artist name...",list:"artist-suggestions",className:n().input}),(0,a.jsx)("datalist",{id:"artist-suggestions",children:m.filter(s=>s.toLowerCase().includes(e.toLowerCase())).map((e,s)=>(0,a.jsx)("option",{value:e,children:e},s))})]}),(0,a.jsxs)("label",{className:n().label,children:["Image URL:",(0,a.jsx)("input",{type:"url",value:t,onChange:e=>i(e.target.value),required:!0,placeholder:"Enter image URL",className:n().input})]}),(0,a.jsxs)("label",{className:n().label,children:["Artist Bio:",(0,a.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),placeholder:"Write artist bio here...",rows:"5",required:!0,className:n().textarea})]}),(0,a.jsxs)("label",{className:n().label,children:["Music URL:",(0,a.jsx)("input",{type:"url",value:o,onChange:e=>u(e.target.value),required:!0,placeholder:"Autofilled with random song music URL or edit manually",className:n().input})]}),(0,a.jsx)("button",{type:"submit",className:n().button,children:"Add/Update Artist"})]})]})}},9509:function(e,s,t){"use strict";t.r(s);var a=t(5893),r=t(7294),i=t(2778),l=t(7277),n=t.n(l);s.default=()=>{let[e,s]=(0,r.useState)(""),[t,l]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[o,u]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[p,h]=(0,r.useState)(null),[j,x]=(0,r.useState)(""),[_,y]=(0,r.useState)("draft"),[v,f]=(0,r.useState)(""),[b,w]=(0,r.useState)(null),[N,A]=(0,r.useState)(null),[L,I]=(0,r.useState)(!1),C=async()=>{if(!p)return null;let e=`${d}-${Date.now()}`,s=`thumbnails/${e}`,{data:t,error:a}=await i.O.storage.from("images").upload(s,p);if(a)throw Error("Image upload failed: "+a.message);let{data:r,error:l}=i.O.storage.from("images").getPublicUrl(s);if(l)throw Error("Error getting public URL: "+l.message);return r.publicUrl},S=async a=>{a.preventDefault(),w(null),A(null),I(!0);try{let a="";p&&(a=await C());let{data:r,error:n}=await i.O.from("blogs").insert([{title:e,author:t,slug:d,excerpt:o,published_date:m,thumbnail_url:a,content:v,status:_,tags:j.split(",")}]);n?(w("Error uploading blog: "+n.message),A(null)):(A("Blog added successfully!"),w(null),s(""),l(""),c(""),u(""),g(""),x(""),f(""),y("draft"),h(null))}catch(e){w(e.message||"An error occurred while adding the blog."),A(null)}finally{I(!1)}};return(0,a.jsxs)("div",{className:n().addBlogContainer,children:[" ",(0,a.jsx)("h2",{className:n().addBlogTitle,children:"Add New Blog"}),(0,a.jsxs)("form",{className:n().addBlogForm,onSubmit:S,children:[" ",(0,a.jsx)("label",{children:"Title:"}),(0,a.jsx)("input",{type:"text",value:e,onChange:e=>s(e.target.value),required:!0}),(0,a.jsx)("label",{children:"Author:"}),(0,a.jsx)("input",{type:"text",value:t,onChange:e=>l(e.target.value),required:!0}),(0,a.jsx)("label",{children:"Slug (URL-friendly):"}),(0,a.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),required:!0}),(0,a.jsx)("label",{children:"Excerpt (Optional):"}),(0,a.jsx)("input",{type:"text",value:o,onChange:e=>u(e.target.value)}),(0,a.jsx)("label",{children:"Published Date (Optional):"}),(0,a.jsx)("input",{type:"date",value:m,onChange:e=>g(e.target.value)}),(0,a.jsx)("label",{children:"Thumbnail Image (Optional):"}),(0,a.jsx)("input",{type:"file",accept:".png,.jpg,.jpeg,.gif,.webp",onChange:e=>{h(e.target.files[0])}}),p&&(0,a.jsxs)("p",{children:["Selected file: ",p.name]}),(0,a.jsx)("label",{children:"Tags (comma-separated):"}),(0,a.jsx)("input",{type:"text",value:j,onChange:e=>x(e.target.value)}),(0,a.jsx)("label",{children:"HTML Content:"}),(0,a.jsx)("textarea",{value:v,onChange:e=>f(e.target.value),placeholder:"Type your blog content in HTML format here...",rows:"10",required:!0}),(0,a.jsx)("label",{children:"Status:"}),(0,a.jsxs)("select",{value:_,onChange:e=>y(e.target.value),children:[(0,a.jsx)("option",{value:"draft",children:"Draft"}),(0,a.jsx)("option",{value:"published",children:"Published"})]}),(0,a.jsx)("button",{type:"submit",disabled:L,children:L?"Uploading Blog...":"Add Blog"}),L&&(0,a.jsxs)("div",{className:n().loadingAnimation,children:[" ",(0,a.jsx)("div",{className:n().spinner}),(0,a.jsx)("p",{children:"Uploading blog..."})]}),b&&(0,a.jsx)("p",{className:n().errorMessage,children:b})," ",N&&(0,a.jsx)("p",{className:n().successMessage,children:N})," "]})]})}},9247:function(e,s,t){"use strict";t.r(s);var a=t(5893),r=t(7294),i=t(2778),l=t(7375),n=t(12),d=t(466),c=t(2038),o=t(2276),u=t(2328),m=t(9509),g=t(8229),p=t.n(g),h=t(1163);s.default=()=>{let[e,s]=(0,r.useState)("approve"),[t,g]=(0,r.useState)(!0),[j,x]=(0,r.useState)(null),[_,y]=(0,r.useState)({manage:!1,account:!1,blog:!1}),v=(0,r.useRef)(),f=(0,h.useRouter)();(0,r.useEffect)(()=>{(async()=>{let{data:{session:e}}=await i.O.auth.getSession();e?x(e):f.push("/admin-login"),g(!1)})()},[f]);let b=async()=>{await i.O.auth.signOut(),f.push("/login")},w=e=>{y(s=>({...s,[e]:!s[e]}))},N=e=>{v.current&&!v.current.contains(e.target)&&y({manage:!1,account:!1,blog:!1})};return((0,r.useEffect)(()=>(document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}),[]),t)?(0,a.jsx)("div",{children:"Loading..."}):(0,a.jsxs)("div",{className:p().adminDashboard,children:[(0,a.jsx)("nav",{className:p().topNav,ref:v,children:(0,a.jsxs)("ul",{className:p().navList,children:[(0,a.jsxs)("li",{className:p().navItem,children:[(0,a.jsxs)("span",{onClick:()=>w("manage"),children:["Music ",(0,a.jsx)(l.qL$,{className:p().caretIcon})]}),_.manage&&(0,a.jsxs)("ul",{className:p().dropdownMenu,children:[(0,a.jsxs)("li",{onClick:()=>s("add-lyrics"),children:[(0,a.jsx)(l.HcQ,{className:p().icon})," Add Lyrics"]}),(0,a.jsxs)("li",{onClick:()=>s("approve"),children:[(0,a.jsx)(l.FJM,{className:p().icon})," Approve Lyrics"]}),(0,a.jsxs)("li",{onClick:()=>s("manage"),children:[(0,a.jsx)(l.fmQ,{className:p().icon})," Manage Lyrics"]}),(0,a.jsxs)("li",{onClick:()=>s("add-artist"),children:[(0,a.jsx)(l.Bj$,{className:p().icon})," Add Artist"]})]})]}),(0,a.jsxs)("li",{className:p().navItem,children:[(0,a.jsxs)("span",{onClick:()=>w("account"),children:["Account ",(0,a.jsx)(l.qL$,{className:p().caretIcon})]}),_.account&&(0,a.jsxs)("ul",{className:p().dropdownMenu,children:[(0,a.jsxs)("li",{onClick:()=>s("messages"),children:[(0,a.jsx)(l.SRX,{className:p().icon})," Messages"]}),(0,a.jsxs)("li",{onClick:b,children:[(0,a.jsx)(l.fHX,{className:p().icon})," Logout"]})]})]}),(0,a.jsxs)("li",{className:p().navItem,children:[(0,a.jsxs)("span",{onClick:()=>w("blog"),children:["Blog ",(0,a.jsx)(l.qL$,{className:p().caretIcon})]}),_.blog&&(0,a.jsx)("ul",{className:p().dropdownMenu,children:(0,a.jsxs)("li",{onClick:()=>s("blog"),children:[(0,a.jsx)(l.kpq,{className:p().icon})," Add Blog"]})})]})]})}),(0,a.jsx)("main",{className:p().mainContent,children:(()=>{switch(e){case"approve":return(0,a.jsx)(n.default,{});case"manage":default:return(0,a.jsx)(d.default,{});case"messages":return(0,a.jsx)(c.default,{});case"add-lyrics":return(0,a.jsx)(o.default,{});case"add-artist":return(0,a.jsx)(u.default,{});case"blog":return(0,a.jsx)(m.default,{})}})()})]})}},2778:function(e,s,t){"use strict";t.d(s,{O:function(){return l}});var a=t(1372);let r="https://tffwhfvevgjscrhkdmpl.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRmZndoZnZldmdqc2NyaGtkbXBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjUzMzg4NjcsImV4cCI6MjA0MDkxNDg2N30.VqEkYRZU-s-9QiLp35pHR04wSw3sLVfoswggMCabkeI";if(console.log("Supabase URL: ",r),console.log("Supabase Anon Key: ",i),!r||!i)throw Error("supabaseUrl and supabaseAnonKey are required.");let l=(0,a.eI)(r,i)},2747:function(e){e.exports={addArtistContainer:"AddArtist_addArtistContainer__dGmY_",heading:"AddArtist_heading__z2FDa",form:"AddArtist_form__OZlb_",label:"AddArtist_label__yxxTy",input:"AddArtist_input__iTSP0",textarea:"AddArtist_textarea__FXUaC",button:"AddArtist_button__UPTR4",successMessage:"AddArtist_successMessage__BgNIy",errorMessage:"AddArtist_errorMessage__L7F1X"}},7277:function(e){e.exports={addBlogContainer:"AddBlog_addBlogContainer__1lCof",addBlogTitle:"AddBlog_addBlogTitle__FFpA6",addBlogForm:"AddBlog_addBlogForm__ntBC_",errorMessage:"AddBlog_errorMessage__dv_1V",successMessage:"AddBlog_successMessage__0ZALh",loadingAnimation:"AddBlog_loadingAnimation__Lcv7f",spinner:"AddBlog_spinner__LrGL8",spin:"AddBlog_spin__hzCLh"}},3205:function(e){e.exports={addLyricsContainer:"AddLyrics_addLyricsContainer__ZEahU",addLyricsTitle:"AddLyrics_addLyricsTitle__Q9FJZ",submissionMessage:"AddLyrics_submissionMessage__zhPRn",addLyricsForm:"AddLyrics_addLyricsForm__tGR8D",formGroup:"AddLyrics_formGroup__qq4sM",artistInput:"AddLyrics_artistInput__7d7Nd",removeArtistButton:"AddLyrics_removeArtistButton__v58LD",suggestionsList:"AddLyrics_suggestionsList__45Cla",addArtistButton:"AddLyrics_addArtistButton__jvVRF",error:"AddLyrics_error__VI0Hi",submitButton:"AddLyrics_submitButton__kT598"}},8229:function(e){e.exports={adminDashboard:"AdminDashboard_adminDashboard__TcvYE",topNav:"AdminDashboard_topNav__7IKUR",navList:"AdminDashboard_navList__ivAL_",navItem:"AdminDashboard_navItem__sp_dA",dropdownMenu:"AdminDashboard_dropdownMenu__ThbuN",caretIcon:"AdminDashboard_caretIcon__goXwP",mainContent:"AdminDashboard_mainContent__Kq8K8"}},7399:function(e){e.exports={approveLyricsContainer:"ApproveLyrics_approveLyricsContainer__oq707",header:"ApproveLyrics_header__LmKGU",message:"ApproveLyrics_message__wL4Jd",contentWrapper:"ApproveLyrics_contentWrapper__htyaD",pendingLyrics:"ApproveLyrics_pendingLyrics__t23Al",lyricItem:"ApproveLyrics_lyricItem__InpBo",lyricDetails:"ApproveLyrics_lyricDetails__CN4Dn",editField:"ApproveLyrics_editField__y15WY",youtubeVideoSection:"ApproveLyrics_youtubeVideoSection__KxvAP",actionButtons:"ApproveLyrics_actionButtons__oPDkw",approveBtn:"ApproveLyrics_approveBtn__rRPBC",rejectBtn:"ApproveLyrics_rejectBtn__jHU8o"}},3254:function(e){e.exports={messagesContainer:"Messages_messagesContainer__hkv5l",messageList:"Messages_messageList__tpIwS",messageContent:"Messages_messageContent__xhhBc",messageItem:"Messages_messageItem__1N9wL",newMessage:"Messages_newMessage__6eWpC",messageProfile:"Messages_messageProfile__V_HoL",newBadge:"Messages_newBadge__XxXUL",deleteButton:"Messages_deleteButton__h89r8",messageBubble:"Messages_messageBubble__OauNj",messageHeader:"Messages_messageHeader__dGjBX",messageTimestamp:"Messages_messageTimestamp__3kK_S"}}},function(e){e.O(0,[372,466,888,774,179],function(){return e(e.s=5980)}),_N_E=e.O()}]);