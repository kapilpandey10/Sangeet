(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[891],{5739:function(e,i,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Admin/ApproveLyrics",function(){return r(12)}])},5479:function(e,i,r){"use strict";var t=r(5893);r(7294);var s=r(514),n=r.n(s);i.Z=e=>{let{show:i,onConfirm:r,onCancel:s,message:c,confirmButtonText:l,cancelButtonText:a}=e;return i?(0,t.jsxs)("div",{className:n().confirmModalOverlay,children:[" ",(0,t.jsxs)("div",{className:n().confirmModal,children:[" ",(0,t.jsxs)("div",{className:n().confirmModalContent,children:[(0,t.jsx)("h2",{children:"Confirmation"}),(0,t.jsx)("p",{children:c}),(0,t.jsxs)("div",{className:n().confirmModalActions,children:[(0,t.jsx)("button",{className:`${n().confirmModalButton} ${n().confirm}`,onClick:r,children:l||"Yes, Confirm"}),(0,t.jsx)("button",{className:`${n().confirmModalButton} ${n().cancel}`,onClick:s,children:a||"Cancel"})]})]})]})]}):null}},12:function(e,i,r){"use strict";r.r(i);var t=r(5893),s=r(7294),n=r(1372),c=r(5479),l=r(7399),a=r.n(l);let o=(0,n.eI)("https://tffwhfvevgjscrhkdmpl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRmZndoZnZldmdqc2NyaGtkbXBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjUzMzg4NjcsImV4cCI6MjA0MDkxNDg2N30.VqEkYRZU-s-9QiLp35pHR04wSw3sLVfoswggMCabkeI");i.default=()=>{let[e,i]=(0,s.useState)([]),[r,n]=(0,s.useState)(null),[l,d]=(0,s.useState)(null),[p,u]=(0,s.useState)(""),[m,_]=(0,s.useState)(!1),[y,h]=(0,s.useState)(""),[j,v]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{let{data:e,error:r}=await o.from("lyrics").select("*").eq("status","pending");r?console.error("Error fetching pending lyrics:",r):i(e)})()},[]);let x=async()=>{if(v(!0),"approve"===y){let{error:t}=await o.from("lyrics").update({status:"approved",title:l.title,artist:l.artist,lyrics:l.lyrics,language:l.language,added_by:l.added_by}).eq("id",r.id);t?console.error("Error approving lyric:",t):(i(e.filter(e=>e.id!==r.id)),n(null),u("Lyric approved successfully!"))}else if("reject"===y){let{error:t}=await o.from("lyrics").delete().eq("id",r.id);t?console.error("Error rejecting lyric:",t):(i(e.filter(e=>e.id!==r.id)),n(null),u("Lyric rejected successfully!"))}_(!1),h(""),v(!1),setTimeout(()=>u(""),5e3)},f=e=>{n(e),d({...e})},g=(e,i)=>{d(r=>({...r,[e]:i}))},C=e=>{let i=e.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return i?i[1]:null},b=e=>{h(e),_(!0)};return(0,t.jsxs)("div",{className:a().approveLyricsContainer,children:[(0,t.jsx)("h2",{className:a().header,children:"Approve or Reject Pending Lyrics"}),p&&(0,t.jsx)("p",{className:a().message,children:p}),(0,t.jsxs)("div",{className:a().contentWrapper,children:[(0,t.jsx)("div",{className:a().pendingLyrics,children:(0,t.jsx)("ul",{children:e.map(e=>(0,t.jsxs)("li",{className:a().lyricItem,children:[(0,t.jsx)("h3",{children:e.title}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Artist:"})," ",e.artist]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Added By:"})," ",e.added_by]}),(0,t.jsx)("button",{onClick:()=>f(e),children:"View Details"})]},e.id))})}),r&&(0,t.jsxs)("div",{className:a().lyricDetails,children:[(0,t.jsx)("h3",{children:"Edit Lyric Details"}),(0,t.jsxs)("div",{className:a().editField,children:[(0,t.jsx)("label",{children:"Title:"}),(0,t.jsx)("input",{type:"text",value:l.title,onChange:e=>g("title",e.target.value)})]}),(0,t.jsxs)("div",{className:a().editField,children:[(0,t.jsx)("label",{children:"Artist:"}),(0,t.jsx)("input",{type:"text",value:l.artist,onChange:e=>g("artist",e.target.value)})]}),(0,t.jsxs)("div",{className:a().editField,children:[(0,t.jsx)("label",{children:"Language:"}),(0,t.jsx)("input",{type:"text",value:l.language,onChange:e=>g("language",e.target.value)})]}),(0,t.jsxs)("div",{className:a().editField,children:[(0,t.jsx)("label",{children:"Added By:"}),(0,t.jsx)("input",{type:"text",value:l.added_by,onChange:e=>g("added_by",e.target.value)})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Release Year:"})," ",r.published_date.split("-")[0]]}),(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"Lyrics:"})}),(0,t.jsx)("textarea",{value:l.lyrics,onChange:e=>g("lyrics",e.target.value),rows:8}),r.music_url&&(e=>{let i=C(e);if(!i)return null;let r=`https://www.youtube.com/embed/${i}?modestbranding=1&rel=0&controls=1`;return(0,t.jsx)("div",{className:a().youtubeVideoSection,children:(0,t.jsx)("iframe",{width:"100%",height:"315",src:r,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})(r.music_url),(0,t.jsxs)("div",{className:a().actionButtons,children:[(0,t.jsx)("button",{onClick:()=>b("approve"),className:a().approveBtn,children:j&&"approve"===y?"Approving...":"Approve"}),(0,t.jsx)("button",{onClick:()=>b("reject"),className:a().rejectBtn,children:j&&"reject"===y?"Rejecting...":"Reject"})]})]})]}),m&&(0,t.jsx)(c.Z,{show:m,onConfirm:x,onCancel:()=>{_(!1)},message:`Are you sure you want to ${"approve"===y?"approve":"reject"} this lyric?`,confirmButtonText:"approve"===y?"Yes, Approve":"Yes, Reject",cancelButtonText:"Cancel"})]})}},514:function(e){e.exports={confirmModal:"ConfirmMsg_confirmModal__0nBMx",confirmModalContent:"ConfirmMsg_confirmModalContent__7dzZy",confirmModalActions:"ConfirmMsg_confirmModalActions__2cYjB",confirmModalButton:"ConfirmMsg_confirmModalButton__5i4wa",confirm:"ConfirmMsg_confirm__GtECM",cancel:"ConfirmMsg_cancel__opN_2"}},7399:function(e){e.exports={approveLyricsContainer:"ApproveLyrics_approveLyricsContainer__oq707",header:"ApproveLyrics_header__LmKGU",message:"ApproveLyrics_message__wL4Jd",contentWrapper:"ApproveLyrics_contentWrapper__htyaD",pendingLyrics:"ApproveLyrics_pendingLyrics__t23Al",lyricItem:"ApproveLyrics_lyricItem__InpBo",lyricDetails:"ApproveLyrics_lyricDetails__CN4Dn",editField:"ApproveLyrics_editField__y15WY",youtubeVideoSection:"ApproveLyrics_youtubeVideoSection__KxvAP",actionButtons:"ApproveLyrics_actionButtons__oPDkw",approveBtn:"ApproveLyrics_approveBtn__rRPBC",rejectBtn:"ApproveLyrics_rejectBtn__jHU8o"}}},function(e){e.O(0,[372,888,774,179],function(){return e(e.s=5739)}),_N_E=e.O()}]);