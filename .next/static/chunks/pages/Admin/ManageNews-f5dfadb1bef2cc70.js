(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[113],{2769:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Admin/ManageNews",function(){return n(6566)}])},6566:function(e,s,n){"use strict";n.r(s);var t=n(5893),i=n(7294),a=n(2778),r=n(9250);n(1463),s.default=()=>{let[e,s]=(0,i.useState)([]),[n,l]=(0,i.useState)(!0),c=(0,r.s0)(),o=async()=>{try{l(!0);let{data:e,error:n}=await a.O.from("news").select("*").order("created_at",{ascending:!1});if(n){console.error("Error fetching news:",n);return}s(e)}catch(e){console.error("Error:",e)}finally{l(!1)}};(0,i.useEffect)(()=>{o()},[]);let d=e=>{c("/editnews",{state:{news:e}})},w=async e=>{if(window.confirm("Are you sure you want to delete this news?"))try{let{error:s}=await a.O.from("news").delete().eq("id",e);if(s){console.error("Error deleting news:",s);return}o()}catch(e){console.error("Error:",e)}};return n?(0,t.jsx)("p",{children:"Loading..."}):(0,t.jsxs)("div",{className:"manage-news-container",children:[(0,t.jsx)("h1",{children:"Manage News"}),(0,t.jsx)("h2",{children:"Draft News"}),e.filter(e=>e.is_draft).length>0?(0,t.jsx)("ul",{className:"news-list",children:e.filter(e=>e.is_draft).map(e=>(0,t.jsxs)("li",{className:"news-item",children:[(0,t.jsx)("span",{children:e.title}),(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:()=>d(e),className:"edit-button",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>w(e.id),className:"delete-button",children:"Delete"})]})]},e.id))}):(0,t.jsx)("p",{children:"No draft news available."}),(0,t.jsx)("h2",{children:"Published News"}),e.filter(e=>!e.is_draft).length>0?(0,t.jsx)("ul",{className:"news-list",children:e.filter(e=>!e.is_draft).map(e=>(0,t.jsxs)("li",{className:"news-item",children:[(0,t.jsx)("span",{children:e.title}),(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:()=>d(e),className:"edit-button",children:"Update"}),(0,t.jsx)("button",{onClick:()=>w(e.id),className:"delete-button",children:"Delete"})]})]},e.id))}):(0,t.jsx)("p",{children:"No published news available."})]})}},2778:function(e,s,n){"use strict";n.d(s,{O:function(){return r}});var t=n(1372);let i="https://tffwhfvevgjscrhkdmpl.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRmZndoZnZldmdqc2NyaGtkbXBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjUzMzg4NjcsImV4cCI6MjA0MDkxNDg2N30.VqEkYRZU-s-9QiLp35pHR04wSw3sLVfoswggMCabkeI";if(console.log("Supabase URL: ",i),console.log("Supabase Anon Key: ",a),!i||!a)throw Error("supabaseUrl and supabaseAnonKey are required.");let r=(0,t.eI)(i,a)},1463:function(e){e.exports={"manage-news-container":"ManageNews_manage-news-container__k4Uc7","news-list":"ManageNews_news-list__LMwj3","news-item":"ManageNews_news-item__A2y6U","edit-button":"ManageNews_edit-button__Sndwa","no-news-message":"ManageNews_no-news-message__Wzh__"}}},function(e){e.O(0,[644,372,250,888,774,179],function(){return e(e.s=2769)}),_N_E=e.O()}]);