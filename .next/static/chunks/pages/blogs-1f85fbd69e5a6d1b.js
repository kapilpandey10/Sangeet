(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[55],{836:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blogs",function(){return t(5758)}])},5758:function(e,a,t){"use strict";t.r(a);var o=t(5893),l=t(7294),s=t(2778),r=t(1664),n=t.n(r),i=t(9008),g=t.n(i),c=t(5160),d=t.n(c);a.default=()=>{let[e,a]=(0,l.useState)([]),[t,r]=(0,l.useState)(!0),[i,c]=(0,l.useState)(""),[_,m]=(0,l.useState)([]),[h,u]=(0,l.useState)(1),[p,b]=(0,l.useState)("all");(0,l.useEffect)(()=>{(async()=>{r(!0);try{let{data:e,error:t}=await s.O.from("blogs").select("id, title, author, excerpt, slug, thumbnail_url, tags, published_date, content").eq("status","published").order("published_date",{ascending:!1});if(t)throw t;a(e),m(e)}catch(e){console.error("Error fetching blogs:",e.message)}finally{r(!1)}})()},[]),(0,l.useEffect)(()=>{let a=i.toLowerCase();m(e.filter(e=>e.title.toLowerCase().includes(a)||e.author.toLowerCase().includes(a)||e.tags.some(e=>e.toLowerCase().includes(a))||e.content.toLowerCase().includes(a)))},[i,e]),(0,l.useEffect)(()=>{"all"===p?m(e):m(e.filter(e=>e.tags.includes(p)))},[p,e]);let C=10*h,B=_.slice(C-10,C),f=e=>{b(e),u(1)},x=Array.from(new Set(e.flatMap(e=>e.tags)));return(0,o.jsxs)("div",{className:d().blogHomepageContainer,children:[(0,o.jsxs)(g(),{children:[(0,o.jsx)("title",{children:"News and Blogs - Dynabeat"}),(0,o.jsx)("meta",{name:"description",content:"Explore the latest blogs on various topics from Dynabeat."}),(0,o.jsx)("link",{rel:"canonical",href:"https://pandeykapil.com.np/blogs"})]}),(0,o.jsx)("h1",{className:d().blogHomepageTitle,children:"Latest Blogs"}),(0,o.jsxs)("div",{className:d().searchBarContainer,children:[(0,o.jsx)("input",{type:"text",className:d().searchBar,placeholder:"Search by title, author, or tags...",value:i,onChange:e=>c(e.target.value),"aria-label":"Search blogs"}),i&&(0,o.jsxs)("p",{className:d().searchResultsInfo,children:[_.length,' articles found for "',i,'"']})]}),(0,o.jsx)("section",{className:d().tagFilterSection,children:(0,o.jsxs)("ul",{className:d().tagList,"aria-label":"Filter by tags",children:[(0,o.jsx)("li",{className:`${d().tagItem} ${"all"===p?d().activeTag:""}`,onClick:()=>f("all"),children:"All"}),x.map(e=>(0,o.jsx)("li",{className:`${d().tagItem} ${p===e?d().activeTag:""}`,onClick:()=>f(e),children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})}),t?(0,o.jsx)("div",{className:d().skeletonContainer,children:Array.from({length:6}).map((e,a)=>(0,o.jsx)("div",{className:d().skeletonCard},a))}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:d().blogGridContainer,children:B.length>0?B.map(e=>(0,o.jsxs)("div",{className:d().blogCard,children:[(0,o.jsx)("img",{className:d().blogCardImage,src:e.thumbnail_url||"https://via.placeholder.com/200",alt:`${e.title} thumbnail`}),(0,o.jsxs)("div",{className:d().blogCardContent,children:[(0,o.jsx)("h2",{className:d().blogCardTitle,children:e.title}),(0,o.jsxs)("p",{className:d().blogCardAuthor,children:["By ",e.author," | ",new Date(e.published_date).toLocaleDateString()]}),(0,o.jsx)("p",{className:d().blogCardExcerpt,children:e.excerpt.length>100?`${e.excerpt.substring(0,100)}...`:e.excerpt}),(0,o.jsx)(n(),{href:`/blogs/${e.slug}`,legacyBehavior:!0,children:(0,o.jsx)("a",{className:d().readMoreButton,children:"Read More"})})]})]},e.id)):(0,o.jsx)("p",{className:d().noBlogsMessage,children:"No blogs available."})}),_.length>B.length&&(0,o.jsx)("button",{className:d().loadMoreButton,onClick:()=>u(e=>e+1),children:"Load More"})]})]})}},2778:function(e,a,t){"use strict";t.d(a,{O:function(){return r}});var o=t(1372);let l="https://tffwhfvevgjscrhkdmpl.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRmZndoZnZldmdqc2NyaGtkbXBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjUzMzg4NjcsImV4cCI6MjA0MDkxNDg2N30.VqEkYRZU-s-9QiLp35pHR04wSw3sLVfoswggMCabkeI";if(console.log("Supabase URL: ",l),console.log("Supabase Anon Key: ",s),!l||!s)throw Error("supabaseUrl and supabaseAnonKey are required.");let r=(0,o.eI)(l,s)},5160:function(e){e.exports={blogHomepageContainer:"BlogHomepage_blogHomepageContainer__5G0tC",blogHomepageTitle:"BlogHomepage_blogHomepageTitle__VRtD0",searchBarContainer:"BlogHomepage_searchBarContainer__BbLjC",searchBar:"BlogHomepage_searchBar___80d3",searchResultsInfo:"BlogHomepage_searchResultsInfo__CU4Yb",tagFilterSection:"BlogHomepage_tagFilterSection__gGYoP",tagList:"BlogHomepage_tagList__2TAnQ",tagItem:"BlogHomepage_tagItem__RZ1ck",activeTag:"BlogHomepage_activeTag__fuFFE",skeletonContainer:"BlogHomepage_skeletonContainer___NEsh",skeletonCard:"BlogHomepage_skeletonCard__7I_oz",blogGridContainer:"BlogHomepage_blogGridContainer__us0iB",blogCard:"BlogHomepage_blogCard___H0Nv",blogCardImage:"BlogHomepage_blogCardImage__bQxTC",blogCardContent:"BlogHomepage_blogCardContent__WMHjD",blogCardTitle:"BlogHomepage_blogCardTitle__nJzB7",blogCardAuthor:"BlogHomepage_blogCardAuthor__8gADk",blogCardExcerpt:"BlogHomepage_blogCardExcerpt__a_VgJ",readMoreButton:"BlogHomepage_readMoreButton__MVMlm",noBlogsMessage:"BlogHomepage_noBlogsMessage__H7cHo",loadMoreButton:"BlogHomepage_loadMoreButton__NI3S7"}},9008:function(e,a,t){e.exports=t(3867)}},function(e){e.O(0,[372,888,774,179],function(){return e(e.s=836)}),_N_E=e.O()}]);